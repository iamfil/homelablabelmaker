$(function(){var p="hp",e=0,y=$("#disk_type"),c=$("#capacity"),h=$("#serial"),g=$("#configuratorMain #diskSpeed label"),f=$("#configuratorMain #diskType label"),r=$("#configuratorMain #interfaceType label"),d=$("#configuratorMain #interfaceSpeed label"),u=$("#configuratorMain #formFactor label");genSelector=$("#configuratorMain #gen label");var m=[{object:g,defaultField:"7.2K"},{object:f,defaultField:"SATA"},{object:r,defaultField:"singlePort"},{object:d,defaultField:"SATA2/SAS"},{object:u,defaultField:"SFF"},{object:genSelector,defaultField:"gen5"}];s();x();q();function x(){$("#printOutContainer").hide();$("#configuratorMain").validator().on("submit",function(z){if(z.isDefaultPrevented()){$(this).validator("validate");console.warn("Validation failed, the user should re-check the fields before resubmitting")}else{t()}});$("#addNewDisk").button().on("click",function(){$("#configuratorMain").submit()});$("#btnPrintPage").button().on("click",function(){a();window.print()});$("#btnRestartApp").button().on("click",function(){j()});$("table#vendors img").click(function(z){$("#vendorPicker").modal("hide");console.info($(this).attr("id")+" Clicked!");p=$(this).attr("id");if(p==="dell"){o(r);o(d);o(genSelector);h.attr("disabled",true).removeAttr("required").attr("placeholder","Not Applicable").val("");["SASMDL","SATAMDL","FC","SSNW"].forEach(function(A){v(f,A)})}$("#configuratorMain").modal("show");$("#configuratorMain").validator("validate")});$("#configuratorMain").on("hidden.bs.modal",function(){i()});$("#gen label").on("change",function(){var z=$("#gen input:radio:checked").parent().text().trim();console.log(z);if(z!=="5/6/7"){console.info("Gen"+z+" is selected disable unused options");o(r);o(d);["SASMDL","SATAMDL","FC","SSNW"].forEach(function(A){v(f,A)})}else{console.info("Gen"+z+" is selected enable disabled options");if(p!=="dell"){["SASMDL","SATAMDL","FC","SSNW"].forEach(function(A){k(f,A)})}if(l(r)){n(r)}if(l(d)){n(d)}}});$("#diskType label").on("change",function(){var A=$("#diskType input:radio:checked").parent().text().trim();var z=$("#gen input:radio:checked").parent().text().trim();console.info("Gen "+z+" selected, exiting diskType change");if(z!=="5/6/7"){return}console.log(A);if(/SSD/gi.test(A)){console.info("SSD is selected disable the disk speed option.");o(g)}else{if(l(g)){n(g)}}if(/SAS/gi.test(A)){console.info("SAS Disk selected disable the 1.5 Gbps speed option.");v(d,"SATA1")}else{if(b(d,"SATA1")&&p!=="dell"){k(d,"SATA1")}}if(/(SATA|SSD)/gi.test(A)){console.info("SATA Disk selected disable controller speeds faster than SATAIII.");v(d,"SAS3");v(d,"SAS4")}else{if((b(d,"SAS3")||b(d,"SAS4"))&&p!=="dell"){k(d,"SAS3");k(d,"SAS4")}}})}function w(C,z,A,B){diskSpeedObj=B.find(".speed");diskTypeObj=B.find(".interface");labelDivider=B.find(".divider");if(C=="gen5"){console.info("HP gen 5/6/7 label colours");switch(true){case /^SAS$/gi.test(z):labelDivider.addClass("hpPurple");break;case /^(SAS MDL|SATA|SATA MDL)$/gi.test(z):labelDivider.addClass("hpCyan");break;case /^Fibre Channel$/gi.test(z):labelDivider.addClass("hpOrange");break;case /^SSD$/gi.test(z):labelDivider.addClass("hpWhite");break;case /SSNW/gi.test(z):labelDivider.addClass("hpSSNW");break}}else{if(C=="gen8"){console.info("HP gen 8/9 label colours")}}if(!/(DP|Dual|Dual Port)/.test(A)){console.info("This is a non DP Disk ("+z+")");diskSpeedObj.addClass("nonDP")}if(/SSD/.test(z)&&p!=="dell"){diskTypeObj.text(String.fromCharCode(160))}}function t(J,D,B,M,K,A,G,C,I,L,F){diskSpeedLabel="";diskSpeedDell="";D=D===undefined?$("#formFactor label.active").attr("for"):D;B=B===undefined?$("#interfaceType label.active").attr("for"):B;M=M===undefined?$("#interfaceSpeed label.active").attr("for"):M;K=K===undefined?$("#diskSpeed label.active").attr("for"):K;A=A===undefined?$("#diskType label.active").text().trim():A;G=G===undefined?c.val():G;C=C===undefined?h.val():C;I=I===undefined?"printOutTable":I;L=L===undefined?8:L;F=F===undefined?$("#gen label.active").attr("for"):F;console.info("FF: "+D+" -- Gen: "+F+" -- IF: "+B+" -- IFS: "+M+" -- DSp: "+K+" -- DT: "+A+" -- DC: "+G+" -- DSe: "+K+" -- TT: "+I+" -- TN: "+L);if(I==="printOutTable"){console.log("WTF");$("#printOutContainer").show();$("#exampleContainer").hide()}if(F!=="gen8"){switch(M){case"SATA2/SAS":if(/SATA/.test(A)){diskSpeedLabel=diskSpeedLabel.concat("3G ")}break;case"SATA3/SAS2":diskSpeedLabel=diskSpeedLabel.concat("6G ");break;case"SAS3":diskSpeedLabel=diskSpeedLabel.concat("12G ");break;case"SAS4":diskSpeedLabel=diskSpeedLabel.concat("22G ");break}if(B==="dualPort"){if(diskSpeedLabel===""){diskSpeedLabel=diskSpeedLabel.concat("Dual Port ")}else{diskSpeedLabel=diskSpeedLabel.concat("DP ")}}}if(K){diskSpeedLabel=diskSpeedLabel.concat(K);diskSpeedDell=diskSpeedDell.concat(K)}if(/(SSD|SSNW)/i.test(A)){if(F==="gen8"){diskSpeedLabel="SSD";A="SATA"}else{diskSpeedLabel="SATA SSD"}}var z=true;switch(p){case"hp":console.info("Disk Speed HP Label : "+diskSpeedLabel);switch(F){case"gen5":console.info("HP: gen 5/6/7 label");switch(D){case"SFF":labelString="<div class='hp SFF'><div class='speed'>{0}</div><div class='interface divider'>{1}</div><div class='capacity'>{2}</div><div class='serial'>{3}</div></div>".format(diskSpeedLabel,A,G,C);break;case"LFF":labelString="<div class='hp LFF'><div class='speed'>{0}</div><div class='interface'>{1}</div><hr class='divider'/><div class='capacity'>{2}</div><div class='serial'>{3}</div></div>".format(diskSpeedLabel,A,G,C);break}break;case"gen8":console.info("HP: gen 8/9 label");switch(D){case"SFF":labelString="<div class='hpGen8 SFF'><div class='speed'>{0}</div><div class='divider'></div><div class='interface'>{1}</div><div class='capacity'>{2}</div><div class='divider'></div><div class='serial'>{3}</div></div>".format(diskSpeedLabel,A,G,C);break;case"LFF":labelString="<div class='hpGen8 LFF'><div class='speed'>{0}</div><div class='divider'></div><div class='interface'>{1}</div><div class='capacity'>{2}</div><div class='divider'></div><div class='serial'>{3}</div></div>".format(diskSpeedLabel,A,G,C);break}break}break;case"dell":console.info("Disk Speed Dell Label : "+diskSpeedDell);switch(D){case"SFF":labelString="<div class='dell SFF'><div class='interface'>{0}</div><div class='capacity speed'>{1} {2}</div></div>".format(A,G,diskSpeedDell);break;case"LFF":labelString="<div class='dell LFF'><div class='interface'>{0}</div><div class='capacity'>{1}</div><div class='speed'>{2}</div></div>".format(A,G,diskSpeedDell);break}}if(($("#"+I+" tr").length===0)||$("#"+I+" tr:last td").length>=L){$("#"+I+" tbody").append("<tr>")}$("#"+I+" tbody tr:last").append("<td>"+labelString+"</td>");if(($("#"+I+"tr").length===0)||$("#"+I+" tr:last td").length>=L){$("#"+I+" tbody").append("</tr>")}w(F,A,diskSpeedLabel,$("#"+I+" tbody tr td").last());if(/SSD/i.test(A)&&p==="dell"&&D==="LFF"){console.info("Dell SSD Fix");$("#"+I+" td .dell.LFF .speed").last().remove();$("#"+I+" td .dell.LFF .capacity").last().css({"line-height":"0.8cm"})}if($("#multiplier").val()>0&&e!==1){var H=$("#multiplier").val();$("#multiplier").val("");e=1;for(var E=H-1;E>0;E--){t()}e=0}if($("#addMore:checked").length===0){$("#configuratorMain").modal("hide")}}function j(){$("#btnPrintPage").show();$("#btnStartConfigurator").show();$("#exampleContainer").show();$("#instruction").show();$("#topContainer").show();$("footer").show();$("#printOutTable tbody").html("").parent().parent().hide();$(this)}function i(){for(field in m){o(m[field].object);n(m[field].object,m[field].defaultField)}v(d,"SAS3");v(d,"SAS4");h.removeAttr("disabled").attr("required",true).attr("placeholder","SPARE 123456-789").val("");$("#multiplier").val("");c.val("");h.val("");e=0}function o(z){z.parent().find(".active").removeClass("active").addClass("wasActive");z.addClass("disabled").attr("aria-disabled",true).css("pointer-events","none")}function n(z,A){if(A!==undefined){console.log("kurva anyad");z.parent().find("[for='"+A+"']").addClass("active").removeClass("wasActive")}else{z.parent().find(".wasActive").addClass("active").removeClass("wasActive")}z.removeClass("disabled").attr("aria-disabled",false).css("pointer-events","auto")}function l(z){if(z.hasClass("disabled")){return true}else{return false}}function v(z,A){var B=z.parent().find("label[for='"+A+"']");B.addClass("disabled").attr("aria-disabled",true).css("pointer-events","none");if(B.hasClass("active")){z.parent().find("label:not(.disabled)").first().click()}}function k(z,A){z.parent().find("label[for='"+A+"']").removeClass("disabled").attr("aria-disabled",false).css("pointer-events","auto")}function b(z,A){if(z.parent().find("label[for='"+A+"']").hasClass("disabled")){return true}else{return false}}function a(){$("#btnPrintPage").hide();$("#btnStartConfigurator").hide();$("#exampleContainer").hide();$("#instruction").hide();$("#btnRestartApp").hide();$("#topContainer").hide();$("footer").hide();setTimeout(function(){$("#btnPrintPage").show();$("#btnStartConfigurator").show();$("#instruction").show();$("#btnRestartApp").show();$("#topContainer").show();$("footer").show()},100)}function q(){examples={hpGen8SFF:{title:'HP G8/9 2.5" (SFF)',vendorType:"hp",fields:[{gen:"gen8",formFactor:"SFF",diskSpeed:"7.2K",diskType:"SATA",diskCapacity:"300 GB",diskSerial:"123456"},{gen:"gen8",formFactor:"SFF",diskSpeed:"10K",diskType:"SAS",diskCapacity:"500 GB",diskSerial:"123456"},{gen:"gen8",formFactor:"SFF",diskSpeed:"15k",diskType:"SAS",diskCapacity:"1 TB",diskSerial:"123456"},{gen:"gen8",formFactor:"SFF",diskSpeed:"SSD",diskType:"SATA",diskCapacity:"256 GB",diskSerial:"123456"},{gen:"gen8",formFactor:"SFF",diskSpeed:"7.2K",diskType:"SATA",diskCapacity:"2 TB",diskSerial:"123456"},{gen:"gen8",formFactor:"SFF",diskSpeed:"10K",diskType:"SAS",diskCapacity:"900 GB",diskSerial:"123456"}]},hpGen8LFF:{title:'HP G8/9 3.5" (LFF)',vendorType:"hp",fields:[{gen:"gen8",formFactor:"LFF",diskSpeed:"7.2K",diskType:"SATA",diskCapacity:"300 GB",diskSerial:"123456"},{gen:"gen8",formFactor:"LFF",diskSpeed:"10K",diskType:"SAS",diskCapacity:"500 GB",diskSerial:"123456"},{gen:"gen8",formFactor:"LFF",diskSpeed:"15k",diskType:"SAS",diskCapacity:"1 TB",diskSerial:"123456"},{gen:"gen8",formFactor:"LFF",diskSpeed:"SSD",diskType:"SATA",diskCapacity:"256 GB",diskSerial:"123456"},{gen:"gen8",formFactor:"LFF",diskSpeed:"7.2K",diskType:"SATA",diskCapacity:"2 TB",diskSerial:"123456"},{gen:"gen8",formFactor:"LFF",diskSpeed:"10K",diskType:"SAS",diskCapacity:"900 GB",diskSerial:"123456"}]},hpSFF:{title:'HP G5/6/7 2.5" (SFF)',vendorType:"hp",fields:[{formFactor:"SFF",interfaceType:"dualPort",interfaceSpeed:"SATA2/SAS",diskSpeed:"15K",diskType:"SAS",diskCapacity:"146 GB",diskSerial:"SPARE 512744-001"},{formFactor:"SFF",interfaceType:"dualPort",interfaceSpeed:"SATA3/SAS2",diskSpeed:"7.2K",diskType:"SAS MDL",diskCapacity:"500 GB",diskSerial:"SPARE 508009-001"},{formFactor:"SFF",interfaceType:"singlePort",interfaceSpeed:"SATA3/SAS2",diskSpeed:"7.2K",diskType:"SATA",diskCapacity:"1 TB",diskSerial:"SPARE 123456-789"},{formFactor:"SFF",interfaceType:"singlePort",interfaceSpeed:"",diskSpeed:"",diskType:"SSD",diskCapacity:"400 GB",diskSerial:"SPARE 690811-002"},{formFactor:"SFF",interfaceType:"dualPort",interfaceSpeed:"SATA2/SAS",diskSpeed:"15K",diskType:"Fibre Channel",diskCapacity:"1 TB",diskSerial:"SPARE 123456-789"},{formFactor:"SFF",interfaceType:"singlePort",interfaceSpeed:"",diskSpeed:"",diskType:"SSD SSNW",diskCapacity:"1 TB",diskSerial:"SPARE 123456-789"}]},hpLFF:{title:'HP G5/6/7 3.5" (LFF)',vendorType:"hp",fields:[{formFactor:"LFF",interfaceType:"dualPort",interfaceSpeed:"SATA2/SAS",diskSpeed:"15K",diskType:"SAS",diskCapacity:"1 TB",diskSerial:"SPARE 123456-789"},{formFactor:"LFF",interfaceType:"dualPort",interfaceSpeed:"SATA3/SAS2",diskSpeed:"7.2K",diskType:"SAS MDL",diskCapacity:"4 TB",diskSerial:"SPARE 123456-789"},{formFactor:"LFF",interfaceType:"singlePort",interfaceSpeed:"SATA3/SAS2",diskSpeed:"5.4K",diskType:"SATA",diskCapacity:"3 TB",diskSerial:"SPARE 123456-789"},{formFactor:"LFF",interfaceType:"singlePort",interfaceSpeed:"",diskSpeed:"",diskType:"SSD",diskCapacity:"512 GB",diskSerial:"SPARE 123456-789"},{formFactor:"LFF",interfaceType:"dualPort",interfaceSpeed:"SATA2/SAS",diskSpeed:"15K",diskType:"Fibre Channel",diskCapacity:"1 TB",diskSerial:"SPARE 123456-789"},{formFactor:"LFF",interfaceType:"singlePort",interfaceSpeed:"",diskSpeed:"",diskType:"SSD SSNW",diskCapacity:"1 TB",diskSerial:"SPARE 123456-789"}]},dellSFF:{title:'Dell Gen11/12/13/14 2.5" (SFF)',vendorType:"dell",fields:[{formFactor:"SFF",interfaceType:"",interfaceSpeed:"",diskSpeed:"7.2K",diskType:"SATA",diskCapacity:"512 GB",diskSerial:""},{formFactor:"SFF",interfaceType:"",interfaceSpeed:"",diskSpeed:"5.4K",diskType:"SATA",diskCapacity:"1 TB",diskSerial:""},{formFactor:"SFF",interfaceType:"",interfaceSpeed:"",diskSpeed:"10K",diskType:"SATA",diskCapacity:"2 TB",diskSerial:""},{formFactor:"SFF",interfaceType:"",interfaceSpeed:"",diskSpeed:"15K",diskType:"SATA",diskCapacity:"146 GB",diskSerial:""},{formFactor:"SFF",interfaceType:"",interfaceSpeed:"",diskSpeed:"SSD",diskType:"SATA",diskCapacity:"480 GB",diskSerial:""},{formFactor:"SFF",interfaceType:"",interfaceSpeed:"",diskSpeed:"",diskType:"SSD",diskCapacity:"512 GB",diskSerial:""}]},dellLFF:{title:'Dell Gen11/12/13/14 3.5" (LFF)',vendorType:"dell",fields:[{formFactor:"LFF",interfaceType:"",interfaceSpeed:"",diskSpeed:"15K",diskType:"SAS",diskCapacity:"1 TB",diskSerial:""},{formFactor:"LFF",interfaceType:"",interfaceSpeed:"",diskSpeed:"10K",diskType:"SAS",diskCapacity:"2 TB",diskSerial:""},{formFactor:"LFF",interfaceType:"",interfaceSpeed:"",diskSpeed:"7.2K",diskType:"SATA",diskCapacity:"4 TB",diskSerial:""},{formFactor:"LFF",interfaceType:"",interfaceSpeed:"",diskSpeed:"5.4K",diskType:"SATA",diskCapacity:"8 TB",diskSerial:""},{formFactor:"LFF",interfaceType:"",interfaceSpeed:"",diskSpeed:"SSD",diskType:"SATA",diskCapacity:"480 GB",diskSerial:""},{formFactor:"LFF",interfaceType:"",interfaceSpeed:"",diskSpeed:"",diskType:"SSD",diskCapacity:"1 TB",diskSerial:""}]}};for(ff in examples){p=examples[ff].vendorType;fields=examples[ff].fields;$("table#exampleTable tbody").last().append("<tr><td>"+examples[ff].title+"</td>");for(item in fields){example=fields[item];t($(this),example.formFactor,example.interfaceType,example.interfaceSpeed,example.diskSpeed,example.diskType,example.diskCapacity,example.diskSerial,"exampleTable",7,example.gen)}$("table#exampleTable tbody").last().append("</tr>")}}function s(){if(!String.prototype.format){String.prototype.format=function(){var z=arguments;return this.replace(/{(\d+)}/g,function(A,B){return typeof z[B]!="undefined"?z[B]:A})}}}});